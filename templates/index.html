<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sperm Donor Information Form</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Sperm/Semen Donor Information Form</h1>
        <form action="/generate" method="POST" class="needs-validation" novalidate>
            <!-- Personal Details -->
            <h3>Personal Details</h3>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="full_name" class="form-label">Full Name</label>
                    <input type="text" class="form-control" id="full_name" name="full_name" required>
                    <div class="invalid-feedback">Please enter your full name.</div>
                </div>
                <div class="col-md-6">
                    <label for="date_of_birth" class="form-label">Date of Birth (As per Aadhaar)</label>
                    <input type="date" class="form-control" id="date_of_birth" name="date_of_birth" required>
                    <div class="invalid-feedback">Please enter your date of birth.</div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="contact_number" class="form-label">Contact Number</label>
                    <input type="tel" class="form-control" id="contact_number" name="contact_number" pattern="[0-9]{10}" required>
                    <div class="invalid-feedback">Please enter a valid 10-digit phone number.</div>
                </div>
                <div class="col-md-6">
                    <label for="email_address" class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="email_address" name="email_address">
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="aadhaar_number" class="form-label">Aadhaar Number</label>
                    <input type="text" class="form-control" id="aadhaar_number" name="aadhaar_number" pattern="[0-9]{12}" required>
                    <div class="invalid-feedback">Please enter a valid 12-digit Aadhaar number.</div>
                </div>
                <div class="col-md-6">
                    <label for="address" class="form-label">Address</label>
                    <textarea class="form-control" id="address" name="address" required></textarea>
                    <div class="invalid-feedback">Please enter your address.</div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="pin_code" class="form-label">Pin Code</label>
                    <input type="text" class="form-control" id="pin_code" name="pin_code" pattern="[0-9]{6}" required>
                    <div class="invalid-feedback">Please enter a valid 6-digit pin code.</div>
                </div>
                <div class="col-md-6">
                    <label for="donor_id" class="form-label">Donor ID</label>
                    <input type="text" class="form-control" id="donor_id" name="donor_id">
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="date_of_consultancy" class="form-label">Date of Consultancy</label>
                    <input type="date" class="form-control" id="date_of_consultancy" name="date_of_consultancy">
                </div>
                <div class="col-md-6">
                    <label for="date_of_discussion" class="form-label">Date of Discussion</label>
                    <input type="date" class="form-control" id="date_of_discussion" name="date_of_discussion">
                </div>
            </div>

            <!-- Health and Medical History -->
            <h3 class="mt-4">Health and Medical History</h3>
            <div class="mb-3">
                <label for="genetic_disorders" class="form-label">Any Known Genetic Disorders or Medical Conditions</label>
                <textarea class="form-control" id="genetic_disorders" name="genetic_disorders"></textarea>
            </div>
            <div class="mb-3">
                <label for="family_history" class="form-label">Family History of Genetic Conditions</label>
                <textarea class="form-control" id="family_history" name="family_history"></textarea>
            </div>
            <div class="mb-3">
                <label for="current_medications" class="form-label">Current Medications</label>
                <textarea class="form-control" id="current_medications" name="current_medications"></textarea>
            </div>
            <div class="mb-3">
                <label for="allergies" class="form-label">Allergies</label>
                <textarea class="form-control" id="allergies" name="allergies"></textarea>
            </div>
            <div class="mb-3">
                <label for="last_medical_exam" class="form-label">Date of Last Comprehensive Medical Examination</label>
                <input type="date" class="form-control" id="last_medical_exam" name="last_medical_exam">
            </div>
            <div class="mb-3">
                <label for="blood_test_results" class="form-label">Results of Recent Blood Test</label>
                <textarea class="form-control" id="blood_test_results" name="blood_test_results"></textarea>
            </div>
            <div class="mb-3">
                <label for="serious_illness" class="form-label">Record of Any Serious Illness or Surgeries</label>
                <textarea class="form-control" id="serious_illness" name="serious_illness"></textarea>
            </div>

            <!-- Lifestyle and Habits -->
            <h3 class="mt-4">Lifestyle and Habits</h3>
            <div class="mb-3">
                <label class="form-label">Smoking Habits</label>
                <div>
                    <input type="radio" id="smoking_yes" name="smoking" value="Yes" required>
                    <label for="smoking_yes" class="me-3">Yes</label>
                    <input type="radio" id="smoking_no" name="smoking" value="No">
                    <label for="smoking_no">No</label>
                </div>
                <div class="mt-2" id="smoking_details" style="display: none;">
                    <label for="smoking_frequency" class="form-label">Frequency</label>
                    <input type="text" class="form-control" id="smoking_frequency" name="smoking_frequency">
                    <label for="cigarettes_per_day" class="form-label">Number of Cigarettes per Day</label>
                    <input type="number" class="form-control" id="cigarettes_per_day" name="cigarettes_per_day" min="0">
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label">Alcohol Consumption</label>
                <div>
                    <input type="radio" id="alcohol_yes" name="alcohol" value="Yes" required>
                    <label for="alcohol_yes" class="me-3">Yes</label>
                    <input type="radio" id="alcohol_no" name="alcohol" value="No">
                    <label for="alcohol_no">No</label>
                </div>
                <div class="mt-2" id="alcohol_details" style="display: none;">
                    <label for="alcohol_frequency" class="form-label">Frequency</label>
                    <input type="text" class="form-control" id="alcohol_frequency" name="alcohol_frequency">
                    <label for="alcohol_amount" class="form-label">Average Amount Consumed</label>
                    <input type="text" class="form-control" id="alcohol_amount" name="alcohol_amount">
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label">Recreational Drug Use</label>
                <div>
                    <input type="radio" id="drug_use_yes" name="drug_use" value="Yes" required>
                    <label for="drug_use_yes" class="me-3">Yes</label>
                    <input type="radio" id="drug_use_no" name="drug_use" value="No">
                    <label for="drug_use_no">No</label>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label">Dietary Preferences</label>
                <div>
                    <input type="radio" id="diet_veg" name="diet" value="Vegetarian" required>
                    <label for="diet_veg" class="me-3">Vegetarian</label>
                    <input type="radio" id="diet_nonveg" name="diet" value="Non-Vegetarian">
                    <label for="diet_nonveg">Non-Vegetarian</label>
                </div>
            </div>

            <!-- Reproductive History -->
            <h3 class="mt-4">Reproductive History</h3>
            <div class="mb-3">
                <label class="form-label">Marital Status</label>
                <div>
                    <input type="radio" id="marital_married" name="marital_status" value="Married" required>
                    <label for="marital_married" class="me-3">Married</label>
                    <input type="radio" id="marital_unmarried" name="marital_status" value="Un-Married">
                    <label for="marital_unmarried">Un-Married</label>
                </div>
            </div>
            <div class="mb-3">
                <label for="num_children" class="form-label">Number of Biological Children</label>
                <input type="number" class="form-control" id="num_children" name="num_children" min="0">
                <div id="children_details" class="mt-2"></div>
            </div>
            <div class="mb-3">
                <label class="form-label">Previous Donor Experience</label>
                <div>
                    <input type="radio" id="donor_exp_yes" name="donor_experience" value="Yes" required>
                    <label for="donor_exp_yes" class="me-3">Yes</label>
                    <input type="radio" id="donor_exp_no" name="donor_experience" value="No">
                    <label for="donor_exp_no">No</label>
                </div>
            </div>
            <div class="mb-3">
                <label for="donation_frequency" class="form-label">Frequency of Donations (if applicable)</label>
                <input type="text" class="form-control" id="donation_frequency" name="donation_frequency">
            </div>

            <!-- Physical Attributes -->
            <h3 class="mt-4">Physical Attributes</h3>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="height" class="form-label">Height</label>
                    <input type="text" class="form-control" id="height" name="height" required>
                    <div class="invalid-feedback">Please enter your height.</div>
                </div>
                <div class="col-md-6">
                    <label for="weight" class="form-label">Weight</label>
                    <input type="text" class="form-control" id="weight" name="weight" required>
                    <div class="invalid-feedback">Please enter your weight.</div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="education" class="form-label">Educational Qualifications</label>
                    <input type="text" class="form-control" id="education" name="education" required>
                    <div class="invalid-feedback">Please enter your educational qualifications.</div>
                </div>
                <div class="col-md-6">
                    <label for="mother_tongue" class="form-label">Mother Tongue</label>
                    <input type="text" class="form-control" id="mother_tongue" name="mother_tongue" required>
                    <div class="invalid-feedback">Please enter your mother tongue.</div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="skin_colour" class="form-label">Skin Colour</label>
                    <input type="text" class="form-control" id="skin_colour" name="skin_colour" required>
                    <div class="invalid-feedback">Please enter your skin colour.</div>
                </div>
                <div class="col-md-6">
                    <label for="hair_colour" class="form-label">Hair Colour</label>
                    <input type="text" class="form-control" id="hair_colour" name="hair_colour" required>
                    <div class="invalid-feedback">Please enter your hair colour.</div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="eye_colour" class="form-label">Eye Colour</label>
                    <input type="text" class="form-control" id="eye_colour" name="eye_colour" required>
                    <div class="invalid-feedback">Please enter your eye colour.</div>
                </div>
                <div class="col-md-6">
                    <label for="religion" class="form-label">Religion</label>
                    <input type="text" class="form-control" id="religion" name="religion" required>
                    <div class="invalid-feedback">Please enter your religion.</div>
                </div>
            </div>
            <div class="mb-3">
                <label for="occupation" class="form-label">Occupation</label>
                <input type="text" class="form-control" id="occupation" name="occupation" required>
                <div class="invalid-feedback">Please enter your occupation.</div>
            </div>

            <!-- Consent Fields -->
            <h3 class="mt-4">Consent</h3>
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="consent_cryopreservation" name="consent_cryopreservation" required>
                <label class="form-check-label" for="consent_cryopreservation">Consent for Cryopreservation of Sperm</label>
                <div class="invalid-feedback">Please provide consent for cryopreservation.</div>
            </div>
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="consent_art_bank" name="consent_art_bank" required>
                <label class="form-check-label" for="consent_art_bank">Consent for the Use of Sperm by ART Bank</label>
                <div class="invalid-feedback">Please provide consent for ART Bank usage.</div>
            </div>
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="consent_registry" name="consent_registry" required>
                <label class="form-check-label" for="consent_registry">Consent to Update Donor Information in the National Registry</label>
                <div class="invalid-feedback">Please provide consent for updating the National Registry.</div>
            </div>

            <!-- Submit Button -->
            <div class="text-center">
                <button type="submit" class="btn btn-primary">Generate Document</button>
            </div>
        </form>
    </div>

    <!-- Bootstrap JS and Custom Script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        // Bootstrap form validation
        (function () {
            'use strict';
            const forms = document.querySelectorAll('.needs-validation');
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        })();

        // Show/hide smoking details
        document.querySelectorAll('input[name="smoking"]').forEach(radio => {
            radio.addEventListener('change', function () {
                document.getElementById('smoking_details').style.display = this.value === 'Yes' ? 'block' : 'none';
            });
        });

        // Show/hide alcohol details
        document.querySelectorAll('input[name="alcohol"]').forEach(radio => {
            radio.addEventListener('change', function () {
                document.getElementById('alcohol_details').style.display = this.value === 'Yes' ? 'block' : 'none';
            });
        });

        // Dynamic children fields
        document.getElementById('num_children').addEventListener('change', function () {
            const num = parseInt(this.value) || 0;
            const container = document.getElementById('children_details');
            container.innerHTML = '';
            for (let i = 1; i <= num; i++) {
                container.innerHTML += `
                    <div class="mb-3">
                        <label for="child_${i}_age" class="form-label">Child ${i} Age</label>
                        <input type="number" class="form-control" id="child_${i}_age" name="child_${i}_age" min="0">
                    </div>
                `;
            }
        });
    </script>
</body>
</html>